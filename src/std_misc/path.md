# Path

Структурата `Path` (пѫть)[^path] представлява осъществление на работа с файлови
пътища за съответната _файлова уредба_[^filesystem]. Има две разновидности на
`Path`: `posix::Path`, за UNIX-подобни _уредби_[^systems] и `windows::Path`, за
Windows.  _Встъплението_[^prelude](`prelude::*`) изнася (внася в обхвата на
програмата, б.пр.) подходящата за текущата уредба разновидност на `Path`. 

Можете да създадете `Path` от `OsStr` и предоставя няколко метода за
извличане на данни от файла/директорията, към които сочи пътя.

Променливите от тип `Path` са неменими. Овладимата разновидност на `Path` е
`PathBuf`. Отношението между `Path` и `PathBuf` е подобно на това между `str` и
`String`.  Променливите от тип `PathBuf` могат да бъдат променяни на място и
могат да бъдат достъпвани пряко сякаш са от тип `Path`.

Обърнете внимание, че `Path` вътрешно _не е_ представена като UTF-8 низ, а се
съхранява като `OsString`. Затова превръщането на `Path` в `&str` _не е_
безплатно и може да не успее (връща се `Option`). Все пак `Path` може свободно
да се превърне в `OsString` или `&OsStr` с помощта на `into_os_string` и
`as_os_str`, съответно.

```rust,editable
use std::path::Path;

fn main() {
    // Създаваме `Path` от `&'static str`
    let path = Path::new(".");

    // Методът `display` връща показваема структура (виж `Display`).
    let _display = path.display();

    // `join` слива път като ползва съответния разделител за текущата РУ и
    // връща променлива от тип `PathBuf`.
    let mut new_path = path.join("a").join("b");

    // `push` удължава `PathBuf` с един `&Path`
    new_path.push("c");
    new_path.push("myfile.tar.gz");

    // `set_file_name` променя името на файла в `PathBuf` променливата
    new_path.set_file_name("package.tgz");

    // Превръща `PathBuf` в отрязък от низ.
    match new_path.to_str() {
        None => panic!("Новият пѫть е недействителна UTF-8 последователност"),
        Some(s) => println!("Новият пѫть е {}", s),
    }
}

```

Разгледайте и другите методи на `Path` (`posix::Path` или `windows::Path`)
структурата `Metadata`.

## Б.пр.

[^path]: пѫть – path. „пѫть” е старият (до 1945 г.) правопис на думата
  път. Буквата Ѫ (голям юс – Онсъ, носово О) отразява различните произношения в
  различните говори на българския език. С голяма вероятност на езика на Светите Братя
  е звучала като „Он” (Н се поизнася носово като във френски). В съвременните
  български говори все още можете да чуете разлики в произношението на думи
  като път, зъб, мъж, рѫка. Ѫ =~ /(ОА|А|Ъ|О|У)(М|Н)?/

[^filesystem]: файлова уредба – filesystem

[^systems]: уредба – system

[^prelude]: встъпление, предисловие – prelude. `именовано::пространство::prelude::*` 

### Вижте също:

[OsStr][1] и [Metadata][2].

[1]: https://doc.rust-lang.org/std/ffi/struct.OsStr.html
[2]: https://doc.rust-lang.org/std/fs/struct.Metadata.html
