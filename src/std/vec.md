# Вектори

Векторите са поредици с променлива дължина. Както при отрязъците, техният
размер е неизвестен по време на компилиране, но могат да се уголемяват и
смаляват по всяко време. Векторът се представя чрез три параметъра:

- _указател към данните_[^pointer_to_data];
- _дължина_[^length];
- _вместимост_.


Вместимостта показва колко памет (в брой членове) е запазена за вектора.
Векторът може да расте, доколкото дължината е по-малка от вместимостта. Когато
този праг трябва да се премине, за вектора се заделя ново място в паметта с
по-голяма вместимост (и данните биват преместени там).

```rust,editable,ignore,mdbook-runnable
fn main() {
    // Данните на повторителите могат да бъдат събрани във вектори
    let collected_iterator: Vec<i32> = (0..10).collect();
    println!("събрани (от 0 до 10) – (0..10) into: {:?}", collected_iterator);

    // Макросът `vec!` може да се ползва за създаване на вектор
    let mut xs = vec![1i32, 2, 3];
    println!("Първоначален вектор: {:?}", xs);

    // Добавяме нови членове към вектора
    println!("Бутаме 4 във вектора");
    xs.push(4);
    println!("Вектор: {:?}", xs);

    // Грешка! Неменим вектор не може да расте
    collected_iterator.push(0);
    // ПОПРАВКА ^ Коментирайте този ред

    // Методът `len` дава броя на членовете, съхранени във вектора
    println!("Vector length: {}", xs.len());

    // Посочването се прави с помощта на квадратни скоби
    // (посочването започва от 0)
    println!("Втори член: {}", xs[1]);

    // `pop` премахва последния член от вектора и го връща
    println!("Премахваме (pop) последния член: {:?}", xs.pop());

    // Посочване на член извън пределите на вектора предизвиква паника
    println!("Четвърти член: {}", xs[3]);
    // ПОПРАВКА ^ Коментирайте този ред

    // Векторите могат лесно да бъдат обхождани
    println!("Съдържание на:");
    for x in xs.iter() {
        println!("> {}", x);
    }

    // Векторите могат да бъдат обхождани и като поредният номер на стъпката се
    // слага в отделна променлива (`i`).
    for (i, x) in xs.iter().enumerate() {
        println!("На място {} имаме стойност {}", i, x);
    }

    // Благодарение на `iter_mut`, менимите `Vector`-и могат също да бъдат
    // обхождани така, че да може да се променя всяка стойност.
    for x in xs.iter_mut() {
        *x *= 3;
    }
    println!("Обновен вектор: {:?}", xs);
}
```
 

Още методи на `Vec` може да видите  в модула [std::vec][vec].


## Б. пр.

[^pointer_to_data]: указател към данни – pointer to data

[^length]: дължина – length

[vec]: https://doc.rust-lang.org/std/vec/
