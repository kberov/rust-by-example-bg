# Скриптове за построяване

Понякога обикновеното построяване с `cargo` не стига. Може би вашият кош се
нуждае от нещо преди `cargo` да може да компилира всичко успешно. Например
създаване на обособен програмен код или нещо трябва да се компилира отделно. За
справяне с такива случаи, Cargo може да изпълни написани от вас скриптове за
построяване.

За да добавите такъв скрипт към вашия пакет, можете да го укажете в
`Cargo.toml` както следва:

```toml
[package]
...
build = "build.rs"
```

Иначе Cargo по подразбиране ще търси скрипт с име `build.rs` в директорията на
проекта.

## Как се ползва скрипт за построяване

Скриптът е просто файл с код на Ръждьо, който ще бъде компилиран и извикан
преди всичко друго в пакета. Сиреч, може да бъде използван за създаване на
нужните предпоставки за успешно построяване на вашия кош.

Cargo предоставя входни данни на скрипта чрез променливи на обкръжението. Те са
описани в [„The Cargo Book” (Environment variables Cargo sets for crates)].

Скриптът предоставя изходни данни чрез стандартния изход (stdout). Всички
отпечатани редове биват записани в `target/debug/build/<pkg>/output`. Редовете,
започващи с `cargo:` ще бъдат ползвани пряко от Cargo и така можете да задавате
параметри за компилирането на пакета.

За повече подробности и примери прегледайте [Cargo
specification][cargo_specification].

[„The Cargo Book” (Environment variables Cargo sets for crates)]: https://doc.rust-lang.org/cargo/reference/environment-variables.html#environment-variables-cargo-sets-for-build-scripts

[cargo_specification]: https://doc.rust-lang.org/cargo/reference/build-scripts.html
