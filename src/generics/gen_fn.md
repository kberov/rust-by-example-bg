# Функции

Същият набор от правила може да бъде приложен за функции: типът `T` става
обобщен, ако е предшестван от `<T>`.

Използването на обобщени функции понякога изисква да се указват типови
параметри. Такъв може да е случаят, когато функцията е извикана, където
връщаният тип е обобщен, или компилаторът няма достатъчно сведения, за да
отгатне нужните типови параметри.

Извикване на функция с изрично указани параметри за тип изглежда така:
`fun::<A, B, ...>()`.

```rust,editable
struct A;          // Точен тип `A`.
struct S(A);       // Точен тип `S`.
struct SGen<T>(T); // Обобщен тип `SGen`.

// Всички следващи функции *овладяват* подадената им променлива. Променливата
// излиза от областта на видимост и бива освободена.

// Описваме функция `reg_fn`, приемаща аргумент `_s` от тип `S`.
// Тук никъде няма `<T>`, значи това не е обобщена функция.
fn reg_fn(_s: S) {}

// Описваме функция `gen_spec_t`, приемаща аргумент `_s` от тип `SGen<T>`.
// Тя има изрично даден праметър за тип `A`, но понеже `A` не е бил указан като
// обобщен параметър за тип за `gen_spec_t`, тя не е обобщена.
fn gen_spec_t(_s: SGen<A>) {}

// Описваме функция `gen_spec_i32`, приемаща аргумент `_s` от тип `SGen<i32>`.
// Тя има изрично даден праметър за тип `i32`, който е точен тип.
// Понеже `i32` не е обобщен тип, тази функция също не е обобщена.
fn gen_spec_i32(_s: SGen<i32>) {}

// Описваме функция `generic`, приемаща аргумент `_s` от тип `SGen<T>`.
// Понеже `SGen<T>` се предхожда от `<T>`, тази функция е обобщена чрез `T`.
fn generic<T>(_s: SGen<T>) {}

fn main() {
    // Използваме необобщените функции
    reg_fn(S(A));          // Точно определен тип.
    gen_spec_t(SGen(A));   // Неявно указан типов параметър `A`.
    gen_spec_i32(SGen(6)); // Неявно указан типов параметър `i32`.

    // Изрично указан типов параметър `char` за `generic()`.
    generic::<char>(SGen('a'));

    // Неявно указан типов параметър `char` за `generic()`.
    generic(SGen('c'));
}
```

## Б.пр.

овладявам – take ownership

### See also:

[functions][fn] and [`struct`s][structs]

[fn]: ../fn.md
[structs]: ../custom_types/structs.md
