# Разбор на аргументи 

Може да се ползва намиране на съвпадения за разбор на прости аргументи:

```rust,editable
use std::env;

fn increase(number: i32) {
    println!("{}", number + 1);
}

fn decrease(number: i32) {
    println!("{}", number - 1);
}

fn help() {
    println!("Използване:
match_args <string>
    Проверка дали подаденият низ е отговорът.
match_args {{увеличи|намали}} <цяло число>
    Увеличаване или намаляване на подаденото цяло число с единица.");
}

fn main() {
    let args: Vec<String> = env::args().collect();

    match args.len() {
        // Няма подадени аргуенти.
        1 => {
            println!("Името ми е 'match_args'. Подайте някакви аргументи!");
        },
        // Подаден е един аргумент.
        2 => {
            match args[1].parse() {
                Ok(42) => println!("Това е отговорът!"),
                _ => println!("Това не е отговорът."),
            }
        },
        // Подадени са една команда и един аргумент.
        3 => {
            let cmd = &args[1];
            let num = &args[2];
            // Разбираме числото.
            let number: i32 = match num.parse() {
                Ok(n) => {
                    n
                },
                Err(_) => {
                    eprintln!("Грешка: Вторият аргумент не е цяло число.");
                    help();
                    return;
                },
            };
            // Разбираме командата.
            match &cmd[..] {
                "увеличи" => increase(number),
                "намали" => decrease(number),
                _ => {
                    eprintln!("Грешка: Грешна команда!");
                    help();
                },
            }
        },
        // Всички останали случаи.
        _ => {
            // Показваме помощно съобщение.
            help();
        }
    }
}
```

Ако сте нарекли програмата си `match_args.rs`  и я компилирате с командата
`rustc ./match_args.rs`, можете да я изпълните както следва:

```shell
$ ./match_args Ръждьо
Това не е отговорът.
$ ./match_args 42
Това е отговорът!
$ ./match_args do something
Грешка: Вторият аргумент не е цяло число.
Използване:
match_args <string>
    Проверка дали подаденият низ е отговорът.
match_args {увеличи|намали} <цяло число>
    Увеличаване или намаляване на подаденото цяло число с единица.
$ ./match_args do 42
Грешка: Грешна команда!
Използване:
match_args <string>
    Проверка дали подаденият низ е отговорът.
match_args {увеличи|намали} <цяло число>
    Увеличаване или намаляване на подаденото цяло число с единица.
$ ./match_args увеличи 42
43
```

