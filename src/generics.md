# Обобщения 

*Обобщенията*[^generics] са начин за обобщаване на типове и функционалност за
по-широк кръг от случаи. Това е особено полезно за намаляване на повторенията в
програмния код, но може да доведе до много усложнен правопис. За да се направи
част от кода обобщена, е необходимо грижливо да се укаже за кои типове се отнася
обобщеният код. Най-простата и най-често срещана употреба е за обобщение на
*параметри за типове*[^type_parameter].

Описваме даден параметър за тип като обобщен, като ограждаме с ъглови скоби
типовете, за които е в сила обобщеният тип. Типовете обикновено започват с главна
буква и ако се състоят от повече от една дума, думите са слети, а всяка
следваща започва с главна буква. Такова именоване е познато като
[КамилскиВид][camelcase]: `<Aaa, Bbb, ДругТип...>`. Обобщените типове за
параметри обикновено се представят така: `<T>`. В Ръждьо „обобщена” е също
всяка единица, приемаща един или повече обобщени типа `<T>`. Всеки тип,
указан като обобщен, е *обобщен параметър за тип*, а всеки друг е
*точен*[^concrete] (необобщен).

Например описваме *обобщена функция*, именувана `foo`, която приема аргумент
`T` от всякакъв тип:

```rust,ignore
fn foo<T>(arg: T) { ... }
```

Понеже `T` е указан като обобщен параметър за тип чрез  `<T>`, той се смята
обобщен, когато се ползва така `(arg: T)`. Това важи дори `T` да е бил описан
преди това като `struct`.

Този пример показва част от правописа в действие:

```rust,editable
// Точен тип `A`.
struct A;

// При описване на типа `Single` първото използване на `A` не се предхожда от `<A>`.
// Това означава, че `Single` е точен тип, а `A` е описан по-горе.
struct Single(A);
//            ^ Тук е първото използване от `Single на типа `A`.

// Тук `<T>` предхожда първата употреба на `T`, значи `SingleGen` е обобщен тип.
// Понеже типовият параметър `T` е обобщен, то би могъл да бъде всичко,
// включително точния тип `A`, описан горе.
struct SingleGen<T>(T);

fn main() {
    // `Single` е точен и изрично приема `A`.
    let _s = Single(A);
    
    // Създаваме променлива `_char` от тип `SingleGen<char>`
    // и ѝ даваме стойност `SingleGen('a')`.
    // Тук `SingleGen` има изрично указан типов параметър.
    let _char: SingleGen<char> = SingleGen('a');

    // `SingleGen` може също да има неявно указан типов параметър:
    let _t    = SingleGen(A); // Uses `A` defined at the top.
    let _i32  = SingleGen(6); // Uses `i32`.
    let _char = SingleGen('a'); // Uses `char`.
}
```

## Б.пр.

[^generics]: обобщения – generics

[^type_parameter]: параметър за тип, типов параметър – <ИмеНаТип> – type parameter 

[^concrete]: точен, даден, определен; конкретен – concrete

### See also:

[`structs`][structs]

[structs]: custom_types/structs.md
[camelcase]: https://en.wikipedia.org/wiki/CamelCase
